{"remainingRequest":"/home/fox/Desktop/scorm-vue/node_modules/babel-loader/lib/index.js!/home/fox/Desktop/scorm-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/fox/Desktop/scorm-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fox/Desktop/scorm-vue/src/components/Dashboard/Views/Courses/CoursePreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fox/Desktop/scorm-vue/src/components/Dashboard/Views/Courses/CoursePreview.vue","mtime":1652773876645},{"path":"/home/fox/Desktop/scorm-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652603422530},{"path":"/home/fox/Desktop/scorm-vue/node_modules/babel-loader/lib/index.js","mtime":1652603423614},{"path":"/home/fox/Desktop/scorm-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652603422530},{"path":"/home/fox/Desktop/scorm-vue/node_modules/vue-loader/lib/index.js","mtime":1652603423826},{"path":"/home/fox/Desktop/scorm-vue/babel.config.js","mtime":1634562697000},{"path":"/home/fox/Desktop/scorm-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652603422530},{"path":"/home/fox/Desktop/scorm-vue/node_modules/babel-loader/lib/index.js","mtime":1652603423614},{"path":"/home/fox/Desktop/scorm-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652603422530},{"path":"/home/fox/Desktop/scorm-vue/node_modules/vue-loader/lib/index.js","mtime":1652603423826}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2ZveC9EZXNrdG9wL3Njb3JtLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2ZveC9EZXNrdG9wL3Njb3JtLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvZm94L0Rlc2t0b3Avc2Nvcm0tdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfVGFnMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay90YWcuY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfVGFnIGZyb20gImVsZW1lbnQtdWkvbGliL3RhZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogMCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgdGFnczogewogICAgICAgIGR5bmFtaWNUYWdzOiBbXSwKICAgICAgICBpbnB1dFZpc2libGU6IGZhbHNlLAogICAgICAgIGlucHV0VmFsdWU6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiBfZGVmaW5lUHJvcGVydHkoe30sIF9UYWcubmFtZSwgX1RhZyksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGdldENvdXJzZTogImNvdXJzZS9nZXRDb3Vyc2UiLAogICAgcHJldmlld0NvdXJzZTogImNvdXJzZS9nZXRDb3Vyc2VQcmV2aWV3IiwKICAgIHRlc3Q6ICJjb3Vyc2UvdGVzdEFycmF5IiwKICAgIHNldFRhZ3M6ICJjb3Vyc2Uvc2V0Q291cnNlVGFncyIsCiAgICBkZWxldGVUYWdzOiAiY291cnNlL2RlbGV0ZVRhZ3MiCiAgfSkpLCB7fSwgewogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKHRhZykgewogICAgICB0aGlzLnRhZ3MuZHluYW1pY1RhZ3Muc3BsaWNlKHRoaXMudGFncy5keW5hbWljVGFncy5pbmRleE9mKHRhZyksIDEpOwogICAgICB0aGlzLmRlbGV0ZVRhZ3MoewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIHRhZzogdGFnCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUlucHV0Q29uZmlybTogZnVuY3Rpb24gaGFuZGxlSW5wdXRDb25maXJtKCkgewogICAgICB2YXIgaW5wdXRWYWx1ZSA9IHRoaXMudGFncy5pbnB1dFZhbHVlOwoKICAgICAgaWYgKGlucHV0VmFsdWUpIHsKICAgICAgICB0aGlzLnRhZ3MuZHluYW1pY1RhZ3MucHVzaChpbnB1dFZhbHVlKTsKICAgICAgICB0aGlzLnNldFRhZ3MoewogICAgICAgICAgaWQ6IHRoaXMuaWQsCiAgICAgICAgICB0YWc6IHRoaXMudGFncy5keW5hbWljVGFncwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnRhZ3MuaW5wdXRWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMudGFncy5pbnB1dFZhbHVlID0gIiI7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgY291cnNlOiAiY291cnNlL2NvdXJzZSIKICB9KSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5pZCA9IF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q291cnNlKF90aGlzLmlkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfdGhpcy50YWdzLmR5bmFtaWNUYWdzID0gX3RoaXMuY291cnNlLnRhZ3M7CiAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;AAoDA;AAGA;EACAA,IADA,kBACA;IACA;MACAC,KADA;MAEAC,gBAFA;MAGAC;QACAC,eADA;QAEAC,mBAFA;QAGAC;MAHA;IAHA;EASA,CAXA;EAYAC,gDAZA;EAaAC,yCACAC;IACAC,6BADA;IAEAC,wCAFA;IAGAC,wBAHA;IAIAC,+BAJA;IAKAC;EALA,EADA;IAQAC,WARA,uBAQAC,GARA,EAQA;MACA;MACA;QAAAf;QAAAe;MAAA;IACA,CAXA;IAaAC,kBAbA,gCAaA;MACA;;MACA;QACA;QACA;UAAAhB;UAAAe;QAAA;MACA;;MACA;MACA;IACA;EArBA,EAbA;EAoCAE,4BACAC;IACAC;EADA,EADA,CApCA;EAyCAC,OAzCA,qBAyCA;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cAFA;cAAA,OAGA,yBAHA;;YAAA;cAIA;cACA;;YALA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAMA;AA/CA","names":["data","id","isLoading","tags","dynamicTags","inputVisible","inputValue","components","methods","mapActions","getCourse","previewCourse","test","setTags","deleteTags","handleClose","tag","handleInputConfirm","computed","mapGetters","course","created"],"sourceRoot":"src/components/Dashboard/Views/Courses","sources":["CoursePreview.vue"],"sourcesContent":["<template>\n  <div v-if=\"!isLoading\">\n    <p>{{ course.title + course.id }}</p>\n    <p>Course Contant :</p>\n    <ul>\n      <li v-for=\"section in course.rootActivity.children\" :key=\"section.title\">\n        {{ section.title }}\n        <ul v-if=\"section.children.length > 0\">\n          <li v-for=\"subsection in section.children\" :key=\"subsection.title\">\n            {{ subsection.title }}\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <h4 class=\"card-title\">Tags</h4>\n\n    <el-tag\n      :key=\"tag\"\n      v-for=\"tag in tags.dynamicTags\"\n      type=\"primary\"\n      :closable=\"true\"\n      :close-transition=\"false\"\n      @close=\"handleClose(tag)\"\n    >\n      {{ tag }}\n    </el-tag>\n\n    <input\n      type=\"text\"\n      placeholder=\"Add new tag\"\n      class=\"form-control input-new-tag\"\n      v-model=\"tags.inputValue\"\n      ref=\"saveTagInput\"\n      size=\"mini\"\n      @keyup.enter=\"handleInputConfirm\"\n      @blur=\"handleInputConfirm\"\n    />\n    <br />\n\n    \n\n    <div class=\"d-flex justify-content-center justify-content-md-end\">\n      <button class=\"btn btn-primary\" @click.prevent=\"previewCourse(course.id)\">\n        Preview\n      </button>\n      \n    </div>\n  </div>\n  <div v-else>loading</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport { Tag } from \"element-ui\";\n\nexport default {\n  data() {\n    return {\n      id: 0,\n      isLoading: false,\n      tags: {\n        dynamicTags: [],\n        inputVisible: false,\n        inputValue: \"\",\n      },\n    };\n  },\n  components: { [Tag.name]: Tag },\n  methods: {\n    ...mapActions({\n      getCourse: \"course/getCourse\",\n      previewCourse: \"course/getCoursePreview\",\n      test: \"course/testArray\",\n      setTags: \"course/setCourseTags\",\n      deleteTags: \"course/deleteTags\",\n    }),\n    handleClose(tag) {\n      this.tags.dynamicTags.splice(this.tags.dynamicTags.indexOf(tag), 1);\n      this.deleteTags({ id: this.id, tag: tag });\n    },\n\n    handleInputConfirm() {\n      let inputValue = this.tags.inputValue;\n      if (inputValue) {\n        this.tags.dynamicTags.push(inputValue);\n        this.setTags({ id: this.id, tag: this.tags.dynamicTags });\n      }\n      this.tags.inputVisible = false;\n      this.tags.inputValue = \"\";\n    },\n  },\n  computed: {\n    ...mapGetters({\n      course: \"course/course\",\n    }),\n  },\n  async created() {\n    this.id = this.$route.params.id;\n    this.isLoading = true;\n    await this.getCourse(this.id);\n    this.tags.dynamicTags = this.course.tags;\n    this.isLoading = false;\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.tag {\n  background-color: #ebe3d5;\n  border-radius: 15px;\n  color: #7a756b;\n  cursor: pointer;\n}\n</style>\n"]}]}